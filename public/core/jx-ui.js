/*
 *  JavaScript Class Foundation (classes.js)
 *      Web Distributed(On-line) Object Oriented JavaScript Foundation
 *  Created by Luiz Fratoni (luizfratoni@gmail.com)
 *  Creation Date: 01/04/2014
 *  
 *  TODO:
 *  2. Enable INTERFACE class Attribute, to allow IDE's list the Object Methods and Properties
 *  
*/
var ClassFoundationVersion="0.2.0.12";window.onerror=function(err,file,line){if(console==null)alert("[CODE ERROR] file: '"+file+"' - line : "+line+" - error :"+err);else console.error("[CODE ERROR] file: '"+file+"' - line : "+line+" - error :"+err)}
//////////////////////////////////////////////////////////////////////////////////////////////////////;
function TRACE(x){console.log(x)}var Bundle={version:ClassFoundationVersion,implementation:function(public,protected,private){if(protected.base==null){protected.base=new ClassLoader}protected.classes=[];protected.ref=1;public.release=function(){protected.ref--;if(protected.ref<=0){protected.classes=[];public.manager.remove(public)}};public.addRef=function(){protected.ref++}
///////////////////////////////////////////;
public.forName=function(uri){var cls=protected.classes[uri];if(cls==null){cls=protected.base.forName(uri);if(cls==null)return null}if(cls.createInstance==null){cls.createInstance=function(obj){return public.createInstance(cls,obj)}}return cls};public.loadInheritance=function(uri,instance,protected){var cls;if(uri.constructor==String){cls=public.forName(uri);if(cls==null){throw"Base Class '"+uri+" not found"}}else{cls=uri}if(cls["extends"]!=null){try{public.loadInheritance(cls["extends"],instance,protected)}catch(err){throw"Error Loading Inheritance:  "+err}}try{cls.implementation(instance,protected,{})}catch(err){throw"Script Error on Base Class '"+uri+"' not found"}};public.createInstance=function(uri,attr){var instance={};var protected={};var aux;if(uri.constructor==String){var cls=public.forName(uri);if(cls==null){throw console.error("Class '"+uri+"' not found")}}else cls=uri;try{instance["class"]=uri;if(cls["extends"]!=null){public.loadInheritance(cls["extends"],instance,protected)}cls.implementation(instance,protected,{})}catch(err){throw console.error("Class Error '"+err)}if(attr!=null)Class.applyProperties(instance,attr);return instance};public.load=function(cls){if(cls.constructor==String){var c=public.forName(cls);protected.classes[cls]=c}else{var uri;for(var i=0;i<cls.length;i++){uri=cls[i];var c=Class.forName(uri);protected.classes[uri]=c}}};public.register=function(uri,cls){console.log("Registering '"+uri+"'");protected.classes[uri]=cls};public["extends"]=function(uri,instance,shared){var cls;if(uri.constructor==String)cls=public.forName(uri);else cls=uri;if(cls==null){console.error("Class Error: Can't Inherit "+uri);return false}if(cls["extends"]!=null)public.loadInheritance(cls["extends"],instance,shared);cls.implementation(instance,shared);return true}}};function ClassImpl(public,protected,private){Bundle.implementation(public,protected,private);protected.classPath="";public.setClassPath=function(path){if(path==null){protected.setclassPath="";return}if(path.charAt(path.length-1)!='/')protected.classPath=path+"/";else protected.classPath=path};public.forName=function(uri){var cls=protected.classes[uri];if(cls==null){var loader=new ClassLoader(protected.classPath+uri);cls=loader["do"]();if(cls==null){return null}}if(cls.createInstance==null){cls.createInstance=function(obj){return public.createInstance(cls,obj)}}return cls};public.applyProperties=function(obj,props){for(var prop in props){try{obj["set"+prop](props[prop])}catch(err){console.error("Property '"+prop+"' doesn't exists")}}}}var Class={};ClassImpl(Class,{},{});
//////////////////////////////////////////////////////////////////
function ClassLoader(uri){var self=this;this.onload=null;this.onerror=null;
/////////////////////
function fail(str){console.error(err);if(self.onerror!=null)self.onerror(err);return 0}this.start=function(){run(true)};this["do"]=function(){return run(false)};function run(async){var url=uri+".js";var reqJs=new XMLHttpRequest;reqJs.open("GET",url,async);reqJs.setRequestHeader("Cache-Control","no cache");if(async){reqJs.onload=function(){receiveJs(reqJs)};reqJs.send(null)}else{reqJs.send(null);return receiveJs(reqJs)}}function receiveJs(reqJs){try{instance=eval(reqJs.responseText);if(self.onload!=null)self.onload(instance);return instance}catch(err){var e="[ERROR] ClassLoader ("+uri+"): - Error parsing Class Script: "+err;console.error(e);console.error(this.responseText);if(self.onerror!=null)self.onerror(e);return null}}}
/////////////////////////////////////////////////////////////////////////////////
function Runnable(uri){var classLoader=new ClassLoader(uri);this.run=function(){classLoader.onload=function(cls){var instance={};cls.implementation(instance,{});instance.run()};classLoader.start()}}var Strings={};function New(f,params){var obj=Class.createInstance(f);if(params!=null){try{Class.applyProperties(obj,params)}catch(err){console.error("ERROR Settings Parameters to "+err)}}return obj}
////////////////////////////////////////////////////////////////////
/*
 *  Standard Graphic User Interface Library for JS Class Foundation (jx)
 *  Developped by Luiz Fratoni (luizfratoni@gmail.com)
 *  Creation Date: 01/04/2014
 *
 *  TODO:
 *  - Create a UI Auto-constructor Schema like { extends : "ui/container", items : [ { extends : "ui/text", Text : "OlÃ¡ amigos da Rede Globo" }]
 *  
 *  
 */var UI_VERSION="0.2.2";var CLIENT_VERSION="1.0x";var TOUCH_EVENTS=false;function DisplayImpl(){var self=this;this.stylesheets={};this.stylesheets.count=0;this.animations={};var host;
//var docHead ;
var clip={left:0,top:0,right:0,bottom:0};function createBodyStyle(){var css=document.createElement("style");css.appendChild(document.createTextNode("body { padding: 0px; vertical-align: middle;  margin: 0px; font-family: helvetica; -webkit-text-size-adjust: none; cursor: default; user-select: none; -webkit-user-select: none; overflow: hidden; -webkit-touch-callout: none; -webkit-text-size-adjust: none; font-smooth: always; -webkit-font-smoothing: antialiased; }"));window.document.getElementsByTagName("head")[0].appendChild(css);css=document.createElement("style");css.appendChild(document.createTextNode(" * { -webkit-tap-highlight-color: rgba(0,0,0,0); }"));window.document.getElementsByTagName("head")[0].appendChild(css)}this.stylesheets.add=function(text){var styleNode=new Object;styleNode.name="css_class_"+ ++self.stylesheets.count;var cssText="."+styleNode.name+" { "+text+"}";var css=document.createElement("style");css.appendChild(document.createTextNode(cssText));window.document.getElementsByTagName("head")[0].appendChild(css);styleNode.applyTo=function(obj){if(obj.getDOMElement!=null)obj.getDOMElement().className=styleNode.name;else obj.className=styleNode.name};styleNode.dispose=function(){window.document.getElementsByTagName("head")[0].removeChild(css)};styleNode.node=css;return styleNode};this.stylesheets.get=function(clsName){var styleNode={};styleNode.name=clsName;styleNode.applyTo=function(obj){if(obj.getDOMElement!=null)obj.getDOMElement().className=styleNode.name;else obj.className=styleNode.name};styleNode.dispose=function(){};return styleNode};this.animations.add=function(text){var styleNode=new Object;styleNode.name="css_anim_"+ ++self.stylesheets.count;var cssText="@-webkit-keyframes "+styleNode.name+" { "+text+"}";var css=document.createElement("style");css.appendChild(document.createTextNode(cssText));window.document.getElementsByTagName("head")[0].appendChild(css);styleNode.node=css;styleNode.play=function(obj,duration,onEnd){Display.animate(obj,styleNode,duration,onEnd)};styleNode.dispose=function(){window.document.getElementsByTagName("head")[0].removeChild(css)};return styleNode};this.animations.get=function(name){var styleNode=new Object;styleNode.name=name;styleNode.play=function(obj,duration,onEnd){Display.animate(obj,styleNode,duration,onEnd)};styleNode.dispose=function(){}};this.animate=function(view,animation,duration,onEnd){var element;if(view.getDOMElement!=null)element=view.getDOMElement();else element=view;element.style.webkitAnimationPlayState="";element.style.webkitAnimationName="";element.style.webkitAnimation=animation.name+" "+duration+"ms forwards";var animEnd=function(){element.removeEventListener("webkitAnimationEnd",animEnd);if(onEnd!=null)onEnd()};element.addEventListener("webkitAnimationEnd",animEnd);element.style.webkitAnimationPlayState="running"};this.clipRect=function(r){var rect={left:0,top:0,right:0,bottom:0};if(r.left!=null)rect.left=r.left;if(r.top!=null)rect.top=r.top;if(r.bottom!=null)rect.bottom=r.bottom;if(r.right!=null)rect.right=r.right;host.style=" left: "+rect.left+"px; top: "+rect.top+"px; right: "+rect.right+"px; bottom: "+rect.bottom+"px;";
//  alert(" left: "+rect.left+"px; top: "+rect.top+"px; right: "+rect.right+"px; bottom: "+rect.bottom+"px;");
/*host.style.left = rect.left+"px";
        host.style.top = rect.top+"px";
        host.style.bottom = rect.bottom+"px";
        host.style.right = rect.right+"px";*/clip=r};this.getClipRect=function(){return clip};this.getParent=function(){return host}
/////////////////////////////////////////////////////////////////////////;
this.initialize=function(__host){host=window.document.createElement("div");host.style=" overflow: hidden; position: fixed; left: 0px; top: 0px; right: 0px; bottom: 0px; ";host.style.left=0;host.style.top=0;host.style.bottom=0;host.style.right=0;document.body.appendChild(host)};this.newSite=function(){var site={};Site(site,{},{});return site};this.setBackgroundColor=function(){};this.add=function(obj){var el=obj.getDOMElement();el.style.position="absolute";host.appendChild(obj.getDOMElement());return obj};this.remove=function(obj){host.removeChild(obj.getDOMElement())};/*createBodyStyle()*/}var Display=new DisplayImpl;
/////////////////////////////////////////////////////////////////////////////
function View(instance,shared,private){if(shared.element==null)shared.element=document.createElement("div");shared.element.guiobj=instance;shared.displayMode="block";shared.prefSize=null;shared.parent=null;shared.uiManager=null;shared.element.style.outline="none";instance.setTag=function(i){shared.tag=i};instance.getTag=function(){return shared.tag};instance.getDOMElement=function(){return shared.element};instance.setParent=function(p){shared.parent=p};instance.getParent=function(){return shared.parent};instance.use=function(attr){Class.applyProperties(instance,attr);return instance};instance.clone=function(){var cloned={};View(cloned,{element:shared.element.cloneNode(true)},{});return cloned};instance.getUIManager=function(){if(shared.uiManager==null){if(shared.parent!=null)return shared.parent.getUIManager();else return null}return shared.uiManager};instance.setUIManager=function(ui){shared.uiManager=ui};shared.setPreferredSize=function(w,h){shared.prefSize={};shared.prefSize.width=w;shared.prefSize.height=h};shared.setPreferredWidth=function(w){if(shared.prefSize==null){shared.prefSize={};shared.prefSize.height=null}shared.prefSize.width=w};shared.setPreferredWidth=function(h){if(shared.prefSize==null){shared.prefSize={};shared.prefSize.width=null}shared.prefSize.width=h};instance.getPreferredSize=function(){return shared.prefSize};instance.getPreferredWidth=function(){return shared.prefSize.width};instance.getPreferredHeight=function(){return shared.prefSize.height};instance.setWidth=function(value){if(value==null)shared.element.style.width="auto";else shared.element.style.width=value+"px"};instance.getLeft=function(){var res=shared.element.style.left;res=res.substring(0,res.length-2);return res};instance.getRight=function(){var res=shared.element.style.left;res=res.substring(0,res.length-2);return res};instance.getTop=function(){var res=shared.element.style.top;res=res.substring(0,res.length-2);return res};instance.getWidth=function(){var res=shared.element.style.width;res=res.substring(0,res.length-2);return res};instance.setHeight=function(value){shared.element.style.height=value+"px"};instance.getHeight=function(){var h=shared.element.style.height;if(h!=null)h=h.substring(0,h.length-2);return h};instance.setLeft=function(value){shared.element.style.left=value+"px"};instance.setRight=function(value){shared.element.style.right=value+"px"};instance.setTop=function(value){shared.element.style.top=value+"px"};instance.setSize=function(w,h){if(w!=null)shared.element.style.width=w+"px";if(h!=null)shared.element.style.height=h+"px"};instance.setPosition=function(x,y){if(x!=null)shared.element.style.left=x+"px";if(y!=null)shared.element.style.top=y+"px"};instance.setVisible=function(value){if(shared.element.style.display!="none"&&shared.element.style.display!=null&&shared.element.style.display!="")shared.displayMode=shared.element.style.display;if(value==false){shared.element.style.display="none"}else{shared.element.style.display=shared.displayMode}};instance.setOpacity=function(value){shared.element.style.opacity=value};instance.setPositionMode=function(value){shared.element.style.position=value};instance.setBackgroundColor=function(value){shared.element.style.backgroundColor=value};instance.getBackgroundColor=function(){return shared.element.style.backgroundColor};instance.setBackgroundBrush=function(value){if(value!=null)shared.element.style.background=value.getCSSBrush();else{shared.element.style.background=null}};instance.setBackgroundImage=function(value){shared.element.style.backgroundImage="url("+UI.resourcePath+value+")"};instance.setBackgroundImageUrl=function(value){shared.element.style.backgroundImage="url("+value+")"};instance.setFloat=function(value){shared.element.style["float"]=value};instance.setDisplay=function(value){shared.element.style.display=value;shared.displayMode=value};instance.setBorderRadius=function(value){shared.element.style.borderRadius=value+"px"};instance.setRelativeRect=function(r){var pos=shared.element.style.position;if(pos==null||pos=="relative")shared.element.style.position="absolute";if(r.left!=null)shared.element.style.left=r.left+"px";if(r.top!=null)shared.element.style.top=r.top+"px";if(r.bottom!=null)shared.element.style.bottom=r.bottom+"px";if(r.right!=null)shared.element.style.right=r.right+"px"};instance.setPadding=function(p){if(p==null)return;if(p.constructor!=Object){shared.element.style.padding=p+"px";return}if(p.left!=null)shared.element.style.paddingLeft=p.left+"px";if(p.top!=null)shared.element.style.paddingTop=p.top+"px";if(p.bottom!=null)shared.element.style.paddingBottom=p.bottom+"px";if(p.right!=null)shared.element.style.paddingRight=p.right+"px"};instance.setPaddingLeft=function(p){shared.element.style.paddingLeft=p+"px"};instance.setPaddingTop=function(p){shared.element.style.paddingTop=p+"px"};instance.setPaddingBottom=function(p){shared.element.style.paddingBottom=p+"px"};instance.setPaddingRight=function(p){shared.element.style.paddingRight=p+"px"};instance.setMargin=function(p){if(p.left!=null)shared.element.style.marginLeft=p.left+"px";if(p.top!=null)shared.element.style.marginTop=p.top+"px";if(p.bottom!=null)shared.element.style.marginBottom=p.bottom+"px";if(p.right!=null)shared.element.style.marginRight=p.right+"px"};instance.setAutoMargin=function(b){if(b==true)shared.element.style.margin="auto auto";else shared.element.style.margin=null};instance.setMarginLeft=function(p){shared.element.style.marginLeft=p+"px"};instance.setMarginTop=function(p){shared.element.style.marginTop=p+"px"};instance.setMarginBottom=function(p){shared.element.style.marginBottom=p+"px"};instance.setMarginRight=function(p){shared.element.style.marginRight=p+"px"};instance.setBorderBottom=function(d){if(d==null){shared.element.style.borderBottom=null;return}var style="solid";if(d.style!=null)style=d.style;shared.element.style.borderBottom=d.width+"px "+style+" "+d.color};instance.setBorderRight=function(d){if(d==null){shared.element.style.borderRight=null;return}var style="solid";if(d.style!=null)style=d.style;shared.element.style.borderRight=d.width+"px "+style+" "+d.color};instance.setBorderLeft=function(d){if(d==null){shared.element.style.borderLeft=null;return}var style="solid";if(d.style!=null)style=d.style;shared.element.style.borderLeft=d.width+"px "+style+" "+d.color};instance.setBorderTop=function(d){if(d==null){shared.element.style.borderTop=null;return}var style="solid";if(d.style!=null)style=d.style;shared.element.style.borderTop=d.width+"px "+style+" "+d.color};instance.setBorder=function(d){if(d==null)shared.element.style.border=null;else{var style="solid";if(d.style!=null)style=d.style;shared.element.style.border=d.width+"px "+style+" "+d.color}};instance.setBorderBottomRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderBottomLeftRadius=value;shared.element.style.borderBottomRightRadius=value};instance.setBorderLeftRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderBottomLeftRadius=value;shared.element.style.borderTopLeftRadius=value};instance.setBorderRightRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderBottomRightRadius=value;shared.element.style.borderTopRightRadius=value};instance.setBorderTopRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderTopLeftRadius=value;shared.element.style.borderTopRightRadius=value};instance.setBorderTopLeftRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderTopLeftRadius=value};instance.setBorderTopRightRadius=function(d){var value=null;if(d!=null)value=d+"px";shared.element.style.borderTopRightRadius=value};instance.expand=function(){shared.element.style.position="absolute";shared.element.style.left="0px";shared.element.style.top="0px";shared.element.style.bottom="0px";shared.element.style.right="0px"};instance.expandRight=function(){
//    shared.element.style.width = "100%";
if(shared.element.style.position=="absolute")shared.element.style.right="0px";else shared.element.style.width="100%"};instance.expandBottom=function(){shared.element.style.bottom="0px"};instance.setStyleClass=function(cls){shared.element.className=cls.name};instance.setStyle=function(cls){shared.element.style.cssText=cls;
//TODO: IF a string set the CSSTEXT if OBJECT,
//set the style like the LAYOUT CLASS
};instance.setScale=function(x,y){shared.element.style.webkitTransform="scale("+x+", "+y+")"};instance.setShadow=function(opt){if(opt==null){shared.element.style.boxShadow=null}else{var l,t,s,c;if(opt.left!=null)l=opt.left+"px";else l="0px";if(opt.top!=null)t=opt.top+"px";else t="0px";if(opt.size!=null)s=opt.size+"px";else s="4px";if(opt.color!=null)c=opt.color;else c="#909090";shared.element.style.boxShadow=l+" "+t+" "+s+" "+c}};instance.setBlur=function(sz){shared.element.style.filter="blur("+sz+"px)";shared.element.style.webkitFilter="blur("+sz+"px)"};instance.setInnerShadow=function(opt){if(opt==null){shared.element.style.boxShadow=null}else{var l,t,s,c;if(opt.left!=null)l=opt.left+"px";else l="0px";if(opt.top!=null)t=opt.top+"px";else t="0px";if(opt.size!=null)s=opt.size+"px";else s="4px";if(opt.color!=null)c=opt.color;else c="#909090";shared.element.style.boxShadow="inset "+l+" "+t+" "+s+" "+c}};instance.setExpanded=function(b){if(b==true)instance.expand()};instance.setExpandWidth=function(b){if(b==true)instance.expandRight()};instance.setExpandHeight=function(b){if(b==true)instance.expandBottom()};instance.setMinHeight=function(v){shared.element.style.minHeight=v+"px"};instance.setMinWidth=function(v){shared.element.style.minWidth=v+"px"};instance.setAutoSize=function(b){if(b==true){shared.displayMode="table";shared.element.style.display="table"}};instance.animate=function(keys,opt){return shared.element.animate(keys,opt)}
//////////////////////// evetns;
instance.onMouseOver=function(callback){shared.element.onmouseover=function(){shared.onmouseoverEvent(instance)};shared.onmouseoverEvent=callback};instance.onMouseOut=function(callback){shared.element.onmouseout=function(){shared.onmouseoutEvent(instance)};shared.onmouseoutEvent=callback};instance.onMouseMove=function(callback){shared.element.onmousemove=callback};instance.onMouseDown=function(callback){if(TOUCH_EVENTS==true)shared.element.addEventListener("touchstart",callback);shared.element.onmousedown=callback};instance.onMouseUp=function(callback){shared.element.onmouseupEvent=function(){if(shared.onmouseupEvent!=null)shared.onmouseupEvent(instance)};shared.onmouseupEvent=callback};instance.onClick=function(callback){shared.element.onclick=function(e){if(shared.onClickEvent!=null)shared.onClickEvent(instance,e)};shared.onClickEvent=callback};instance.onDoubleClick=function(callback){shared.element.ondblclick=callback};instance.setCursor=function(cr){shared.element.style.cursor=cr};instance.getLocalVisibleRect=function(){return shared.element.getBoundingClientRect()}}function Video(instance,shared,private){shared.element=document.createElement("video")}function Container(instance,shared,private){shared.orientation=null;shared.horAlign="left";shared.element.style.overflowX="hidden";shared.element.style.overflowY="hidden";instance.add=function(vw){if(vw.getDOMElement==null){console.error("[Container]Invalid View to add");return}var el=vw.getDOMElement();if(shared.orientation!=null){if(shared.orientation=="horizontal"){if(el.style.position!="fixed"){if(el.style["float"]==null||el.style["float"]=="")el.style["float"]=shared.horAlign}}}else{if(el.style.position==null||el.style.position==""||el.style.position=="relative")el.style.position="absolute"}shared.element.appendChild(el);if(vw.setParent!=null)vw.setParent(instance);return vw};instance.remove=function(vw){var el=vw.getDOMElement();shared.element.removeChild(el);if(vw.setParent!=null)vw.setParent(null)};instance.clear=function(){shared.element.innerHTML=""};instance.setOrientation=function(or){shared.orientation=or};instance.setHorizontalAlign=function(al){shared.horAlign=al};instance.enableVerticalScroll=function(value){if(value==true)shared.element.style.overflowY="auto";else shared.element.style.overflowY="hidden";if(value==true)shared.element.canScroll=true};instance.enableHorizontalScroll=function(value){if(value==true)shared.element.style.overflowX="auto";else shared.element.style.overflowX="hidden";if(value==true)shared.element.canScroll=true};instance.enableScroll=function(value){if(value==true){shared.element.style.overflowY="auto";shared.element.style.overflowX="auto"}else{shared.element.style.overflowY="hidden";shared.element.style.overflowX="hidden"}if(value==true)shared.element.canScroll=true};instance.addMultiple=function(items){items.forEach(function(item){instance.add(item)})};instance.insertFirst=function(item){var first=shared.element.firstChild;if(first==null){shared.element.appendChild(item.getDOMElement())}else{shared.element.insertBefore(item.getDOMElement(),first)}item.setParent(instance);return item};instance.swap=function(item,newitem){shared.element.insertBefore(newitem.getDOMElement(),item.getDOMElement());shared.element.removeChild(item.getDOMElement());if(item.setParent!=null)item.setParent(null);if(newitem.setParent!=null)newitem.setParent(instance)};instance.onScroll=function(f){shared.onScrollFunc=f;shared.element.onscroll=function(e){shared.onScrollFunc(e,shared.element.scrollTop,shared.element.scrollLeft)}};instance.forEach=function(func){if(func==null)return;var i,len=shared.element.childNodes.length;var child;for(i=0;i<len;i++){child=shared.element.childNodes[i].guiobj;if(child!=null)if(func(child)==false)return}};instance.getChild=function(i){return shared.element.childNodes[i].guiobj};instance.count=function(){return shared.element.childNodes.length}
//////////////////////////////////////////////////////////////////;
}function ImageView(instance,shared,private){shared.element.style.backgroundPosition="center";shared.element.style.backgroundRepeat="no-repeat";instance.setImage=function(img){shared.element.style.backgroundImage="url("+UI.resourcePath+img+")"};instance.setImageAlign=function(value){shared.element.style.backgroundPosition=value};instance.setURL=function(img){shared.element.style.backgroundImage="url("+img+")"}}function DefaultScrollView(public,protected,private){protected.element.style.overflowY="auto";protected.element.style.overflowX="hidden";protected._content=public.add(New(UI.Container,{Orientation:"vertical",RelativeRect:{left:0,top:0,right:0}}));protected.contentElement=protected._content.getDOMElement();public.getContent=function(){return protected._content};public.getContentElement=function(){return protected.contentElement}}function CustomScrollView(public,protected,private){protected.axis=0;protected.inArea=false;protected.btnVisible=false;protected.stopedWhell=0;protected.curTimer=null;protected.lastSize=null;protected.element.style.overflowY="hidden";protected.element.style.overflowX="hidden";protected._content=public.add(New("ui/container",{Orientation:"vertical",RelativeRect:{left:0,top:0,right:0}}));protected.scrollArea=New(UI.View,{Visible:true,PositionMode:"fixed",Width:16,BackgroundColor:"white"});protected.contentElement=protected._content.getDOMElement();protected.scrollBtn=New(UI.View,{PositionMode:"fixed",Visible:true,BorderRadius:8,Width:8,Height:100,BackgroundColor:"rgba(0,0,0,0.4)"});protected.element.onmouseover=function(e){
//e.stopImmediatePropagation();
//    console.log("ENTROU NO CONTAINER");
if(protected.inArea==true)return;protected.inArea=true;var r=protected.element.getBoundingClientRect();
//protected.scrollArea.setRelativeRect( { left: r.right-16, top: r.top, bottom: r.bottom});
protected.scrollArea.use({Left:r.right-16,Top:r.top,Height:r.bottom-r.top});protected.scrollBtn.use({Left:r.right-12,Top:r.top});protected.calcBtnSize(r);protected.lastSize=r;
// public.add(protected.scrollArea);
};protected.element.onmouseout=function(e){var r=protected.lastSize;if(e.x<r.left||e.x>r.right||(e.y<r.top||e.y>r.bottom)){protected.inArea=false;console.log("SAIU");if(protected.btnVisible==true){
// protected.btnVisible = false;
// public.remove(protected.scrollBtn);
}}
//public.remove(protected.scrollArea);
//Display.remove(protected.scrollBtn);
};protected.element.onmousemove=function(e){
/* var r = protected.lastSize;
        if (e.x > r.right-16){
            if (protected.btnVisible == false){
                protected.btnVisible= true;
                console.log("APARECE SCROLL BUTTON");
                public.add(protected.scrollBtn);
                protected.scrollBtn.setRelativeRect({ left: r.right-12, top: r.top});
            } 
        }
        else {
            if (protected.btnVisible == true){
                console.log("DESAPARECE SCROLL BUTTON");
                public.remove(protected.scrollBtn);
                protected.btnVisible = false;
            }
        }*/};protected.element.onwheel=function(e){protected.stopedWhell=0;if(protected.axis==0){// Whell Y
if(protected.btnVisible==false){protected.calcBtnSize()}console.log(e.deltaY);protected.element.scrollTop+=e.deltaY}if(protected.btnVisible==false){protected.btnVisible=true;public.add(protected.scrollBtn)}var percent=protected.element.scrollTop/(protected.element.scrollHeight-protected.element.clientHeight);protected.scrollBtn.setTop(protected.btnMaxH*percent+protected.lastSize.top+4);
//protected.scrollBtn.setTop((protected.element.clientHeight + protected.element.scrollTop - protected.btnH) - protected.lastSize.top);
if(protected.curTimer==null){protected.curTimer=window.setInterval(function(){if(protected.stopedWhell>=2){protected.stopedWhell=-1;protected.btnVisible=false;window.clearInterval(protected.curTimer);public.remove(protected.scrollBtn);protected.curTimer=null}protected.stopedWhell++},300)}};protected.add=public.add;public.add=function(obj){return protected._content.add(obj)};public.clear=function(obj){protected._content.clear()};public.remove=function(obj){protected._content.remove(obj)};public.count=function(){return protected._content.count()};public.forEach=function(f){return protected._content.forEach(f)};public.insertFirst=function(f){return protected._content.insertFirst(f)}
////////////////////////////;
protected.element.onresize=function(){console.log("RESIZED")};protected.calcBtnSize=function(){console.log(protected.contentElement.offsetHeight);var h=protected.element.clientHeight/protected.contentElement.scrollHeight*protected.element.clientHeight;if(h<32)h=32;protected.btnH=h;console.log("TAMANHO TEORICO "+h);protected.btnMaxH=protected.element.clientHeight-protected.btnH-8;protected.scrollBtn.setHeight(h)};public.getContent=function(){return protected._content};public.getContentElement=function(){return protected.contentElement}}function Paragraph(instance,shared,private){shared.element.overflowY="auto";instance.setText=function(txt){if(txt==null)shared.element.textContent="";else shared.element.textContent=txt};instance.setSimpleDate=function(dt){if(dt.constructor!=Date)dt=Format.dateFromString(dt);shared.element.textContent=Format.toSimpleDateString(dt);//dt.getDate() + "/" + (dt.getMonth()+1) + "/" + dt.getFullYear();
};instance.setHtml=function(txt){shared.element.innerHTML=txt};instance.getText=function(){return shared.element.textContent};instance.getHtml=function(){return shared.element.innerHTML};instance.setFontColor=function(color){shared.element.style.color=color};instance.getFontColor=function(){var res=shared.element.style.color;if(res==null)res="#000000";return res};instance.setFontSize=function(size){shared.element.style.fontSize=size+"px"};instance.setFontFamily=function(family){shared.element.style.fontFamily=family};instance.setFontWeight=function(weight){shared.element.style.fontWeight=weight};instance.setLineHeight=function(h){shared.element.style.lineHeight=h+"px"};instance.setVerticalAlign=function(a){shared.element.style.verticalAlign=a};instance.setAlign=function(al){shared.element.style.textAlign=al;shared.element.style.align=al}}function Text(instance,shared,private){private.baseSetHeight=instance.setHeight;shared.multiline=false;instance.setMultiline=function(b){shared.multiline=b;shared.element.style.lineHeight=null};instance.setHeight=function(h){shared.element.style.height=h+"px";if(shared.multiline==false)shared.element.style.lineHeight=h+"px"};instance.setPlaceHolder=function(h){shared.element.placeholder=h};instance.setSize=function(w,h){shared.element.style.width=w+"px";shared.element.style.height=h+"px";if(shared.multiline==false)shared.element.style.lineHeight=h+"px"};instance.enableVerticalScroll=function(value){if(value==true)shared.element.style.overflowY="auto";else shared.element.style.overflowY="hidden"};instance.enableHorizontalScroll=function(value){if(value==true)shared.element.style.overflowX="auto";else shared.element.style.overflowX="hidden"};instance.enableScroll=function(value){if(value==true){shared.element.style.overflowY="auto";shared.element.style.overflowX="auto"}else{shared.element.style.overflowY="hidden";shared.element.style.overflowX="hidden"}};instance.setTextShadow=function(opt){if(opt==null){shared.element.style.textShadow=null}else{var l,t,s,c;if(opt.left!=null)l=opt.left+"px";else l="0px";if(opt.top!=null)t=opt.top+"px";else t="0px";if(opt.size!=null)s=opt.size+"px";else s="4px";if(opt.color!=null)c=opt.color;else c="#909090";shared.element.style.textShadow=l+" "+t+" "+s+" "+c}};instance.setFontSmooth=function(b){if(b==true){shared.element.webkitFontSmoothing="subpixel-antialiased"}else{shared.element.webkitFontSmoothing="none"}}}function Label(instance,shared,private){shared.element.style.backgroundPosition="5 5";shared.element.style.backgroundRepeat="no-repeat";shared.element.style.paddingLeft="32";instance.setImage=function(img){shared.element.style.backgroundImage="url("+UI.resourcePath+img+")"};instance.setImagePosition=function(x,y){shared.element.style.backgroundPosition=x+" "+y}}
////////////////////////////////////////////////////////////////////////////////
function Input(instance,shared,private,type){if(type==null)shared.element=document.createElement("input");else shared.element=document.createElement(type);instance.setFocus=function(b){if(b==true)shared.element.focus();else shared.element.blur()};shared.element.onfocus=function(e){if(shared.onfocus!=null)shared.onfocus(instance)};shared.element.onblur=function(e){if(shared.onexitfocus!=null)shared.onexitfocus(instance)};instance.isEnabled=function(){var v=shared.element.disabled;if(v==true)return false;else return true};instance.setReadOnly=function(b){shared.element.readonly=b}}function Checkbox(instance,shared,private){shared.element.type="checkbox"}function TextInput(instance,shared,private){shared.element.type="text";shared.onkeyup=null;shared.onkeydown=null;shared.onpressenter=null;shared.onpressesc=null;shared.onfocus=null;shared.onexitfocus=null;shared.uppercase=false;instance.setUpperCase=function(b){shared.uppercase=b;if(b==true){shared.element.style.textTransform="uppercase"}else{shared.element.style.textTransform=null}};instance.getText=function(){if(shared.uppercase==true)return shared.element.value.toUpperCase();return shared.element.value};instance.setText=function(t){if(t==null)t="";shared.element.value=t};instance.clear=function(){shared.element.value=""};instance.setMaxLength=function(sz){shared.element.maxLength=sz};shared.element.onkeydown=function(e){if(shared.onkeydown!=null)shared.onkeydown(instance,e)};shared.element.onkeyup=function(e){if(shared.onkeyup!=null)shared.onkeyup(instance,e);if(e.keyCode==13){if(shared.onpressenter!=null)shared.onpressenter(instance,e)}else if(e.keyCode==27){if(shared.onpressesc!=null)shared.onpressesc(instance,e)}};instance.onKeyUp=function(callback){shared.onkeyup=callback};instance.onKeyDown=function(callback){shared.onkeydown=callback};instance.onKeyPress=function(callback){shared.element.onkeypress=callback};instance.doPressEnter=function(){if(shared.onpressenter!=null){shared.onpressenter()}};instance.onPressEnter=function(callback){shared.onpressenter=callback};instance.onPressEsc=function(callback){shared.onpressesc=callback};instance.onFocus=function(callback){shared.onfocus=callback};instance.onExitFocus=function(callback){shared.onexitfocus=callback};instance.setPattern=function(ptr){shared.element.pattern=ptr};instance.setEnabled=function(b){if(b==true)shared.element.disabled=null;else shared.element.disabled=true};instance.setFocus=function(b){if(b==true){shared.element.focus();
// shared.element.setSelectionRange(0, shared.element.value.length);
}else shared.element.blur()};instance.setReadOnly=function(b){shared.element.readOnly=b};instance.selectAll=function(){shared.element.setSelectionRange(0,shared.element.value.length)};instance.setTextTransform=function(t){shared.element.style.textTransform=t}}function MultilineText(instance,shared,private){shared.element=document.createElement("textarea");shared.multiline=true;shared.element.onfocus=function(e){if(shared.onfocus!=null)shared.onfocus(instance)};shared.element.onblur=function(e){if(shared.onexitfocus!=null)shared.onexitfocus(instance)};shared.element.onkeydown=function(e){if(shared.onkeydown!=null)shared.onkeydown(instance,e)};shared.element.onkeyup=function(e){if(shared.onkeyup!=null)shared.onkeyup(instance,e);if(e.keyCode==13){if(shared.onpressenter!=null)shared.onpressenter(instance,e)}else if(e.keyCode==27){if(shared.onpressesc!=null)shared.onpressesc(instance,e)}}}function PasswordInput(instance,shared,private){shared.element.type="password"}function DateInput(instance,shared,private){shared.element.type="text";shared.onchange=null;instance.onChange=function(callback){shared.onchange=callback;shared.element.onchange=function(e){shared.onchange(instance,e)}};instance.setValue=function(dt){var d=String(dt.getDate());if(d.length<=1)d="0"+d;var m=String(dt.getMonth()+1);if(m.length<=1)m="0"+m;v=dt.getFullYear()+"-"+m+"-"+d;shared.element.value=v};instance.setDate=function(dt){var d=String(dt.getDate());if(d.length<=1)d="0"+d;var m=String(dt.getMonth()+1);if(m.length<=1)m="0"+m;var v=d+"/"+m+"/"+dt.getFullYear();shared.element.value=v};instance.toText=function(){var value=shared.element.value;try{var nodes=value.split("/");if(nodes.length!=3)return null;var dt=new Date(nodes[2],nodes[1]-1,nodes[0]);var d=String(dt.getDate());var m=String(dt.getMonth()+1);var v=d+"/"+m+"/"+dt.getFullYear();return v}catch(err){alert(err);return null}};instance.getValue=function(){return shared.element.value}}function ComboInput(instance,shared,private){shared.element.type="select";shared.emptyitem=false;instance.add=function(text,id){var d=document.createElement("option");d.value=id;d.text=text;shared.element.add(d);return d};instance.clear=function(){shared.element.options.length=0;shared.element.innerHTML=""};instance.bind=function(data,params){instance.clear();instance.addItems(data,params)};instance.selectId=function(id){var i=0;
/*
        var item = shared.element.options;
        alert(item);
        alert(item.getLength());*/
//shared.element.selectedIndex = 0;
};instance.setEnabled=function(b){if(b==true)shared.element.disabled=null;else shared.element.disabled=true};instance.setReadOnly=function(b){if(b==true)shared.element.disabled=true;else shared.element.disabled=null};instance.addItems=function(data,params){var capId="id";var capText="text";if(params!=null){if(params.text!=null)capText=params.text;if(params.id!=null)capId=params.id}data.forEach(function(entry){if(entry!=null)instance.add(entry[capText],entry[capId])})};instance.addItem=function(data,params){var capId="id";var capText="text";if(params!=null){if(params.text!=null)capText=params.text;if(params.id!=null)capId=params.id}if(data!=null)instance.add(data[capText],data[capId])};shared.onpressenter=null;shared.element.onkeyup=function(e){if(shared.onkeyup!=null)shared.onkeyup(instance,e);if(e.keyCode==13){if(shared.onpressenter!=null)shared.onpressenter(instance,e)}else if(e.keyCode==27){if(shared.onpressesc!=null)shared.onpressesc(instance,e)}};instance.onFocus=function(callback){shared.onfocus=callback};instance.onExitFocus=function(callback){shared.onexitfocus=callback};instance.onPressEnter=function(callback){shared.onpressenter=callback};instance.setEmptyItem=function(b){if(b!=null)shared.emptyItem=b;return shared.emptyItem};instance.setItems=function(data){instance.clear();if(shared.emptyItem==true){instance.add("",0)}data.forEach(function(entry){if(entry!=null)instance.add(entry.text,entry.id)})};instance.getSelectedIndex=function(){return shared.element.selectedIndex};instance.setSelectedIndex=function(i){shared.element.selectedIndex=i};instance.setSelectedId=function(id){var idx=0;for(var i=0;i<shared.element.options.length;i++){if(shared.element.options[i].value==id){shared.element.selectedIndex=idx;return}idx++}};instance.getSelected=function(){var i=shared.element.selectedIndex;if(i<0)return null;return shared.element.options[i].value};instance.getSelectedId=function(){var i=shared.element.selectedIndex;if(i<0)return null;return shared.element.options[i].value};instance.getSelectedText=function(){var i=shared.element.selectedIndex;if(i<0)return null;return shared.element.options[i].text};instance.count=function(){return shared.element.options.length};instance.selectIndex=function(i){shared.element.selectedIndex=i;if(shared.onchange!=null)shared.onchange(instance,null)}
////////////////;
shared.onchange=null;shared.onselect=null;instance.onChange=function(callback){shared.onchange=callback;shared.element.onchange=function(e){shared.onchange(instance,e)}};instance.onSelect=function(callback){shared.onselect=callback;shared.element.onselect=function(e){shared.onselect(instance,e)}}}
////////////////////////////////////////////////////////////////////////////////
function Hover(instance,shared,private){if(UI.hoverAnims==null){var anims={show:Display.animations.add(" from { opacity : 0; } to { opacity: 1; } "),hide:Display.animations.add(" from { opacity : 1; } to { opacity: 0; } ")};UI.hoverAnims=anims}shared.element.style.position="fixed";instance.setAxisElement=function(obj,margin){var rect=obj.getDOMElement().getBoundingClientRect();if(margin!=null){if(margin.left!=null)shared.element.style.left=rect.left+2+margin.left;else shared.element.style.left=rect.left+2;if(margin.top!=null){shared.element.style.top=rect.top+rect.height-10+margin.top}else shared.element.style.top=rect.top+rect.height-10}else{shared.element.style.left=rect.left+2;shared.element.style.top=rect.top+rect.height-10}var a=shared.element.getBoundingClientRect();if(a.right>window.innerWidth)shared.element.style.left=window.innerWidth-shared.element.offsetWidth;if(a.bottom>window.innerHeight)shared.element.style.top=window.innerHeight-shared.element.offsetHeight};instance.show=function(el,onHide,margin){Display.add(instance);shared.onHide=onHide;if(el!=null){instance.setAxisElement(el,margin)}UI.hoverAnims.show.play(instance,200,function(){UI.onClickOutside(instance,function(){instance.hide(null)},false)})};instance.hide=function(data){UI.hoverAnims.hide.play(instance,200,function(){Display.remove(instance)});if(shared.onHide!=null)shared.onHide(data)};instance.close=function(data){UI.hoverAnims.hide.play(instance,200,function(){Display.remove(instance)});UI.cancelClickOutside(instance)}}
////////////////////////////////////////////////////////////////////////////////
var gui_styles=null;var gui_anim=null;function createGuiStyles(){gui_styles={};gui_anim={};var clip=Display.getClipRect();gui_styles.site=Display.stylesheets.add("position: fixed; left: "+clip.left+"px; top: "+clip.top+"px; right: "+clip.right+"px; bottom: "+clip.bottom+"px; ");gui_styles.floatSite=Display.stylesheets.add("position: absolute; background-color: #ffffff; box-shadow: 0px 0px 15px #303030; display: table;");gui_anim.fadeIn=Display.animations.add("from {opacity: 0;} to {opacity: 1;}");gui_anim.fadeOut=Display.animations.add("from {opacity: 1;} to {opacity: 0;}")}function Site(instance,shared,private){if(gui_styles==null){createGuiStyles()}instance.setStyleClass(gui_styles.site);instance.setView=function(vw){shared.element.innerHTML=null;shared.element.appendChild(vw.getDOMElement())};instance.setVisible=function(b){if(b==true){shared.element.style.opacity="0";Display.getParent().appendChild(shared.element);gui_anim.fadeIn.play(instance,"500ms",function(){shared.element.style.opacity="1"})}else{gui_anim.fadeOut.play(instance,"500ms",function(){Display.getParent().removeChild(shared.element)})}};instance.setFloating=function(value){if(value==true){instance.setStyleClass(gui_styles.floatSite)}else{instance.setStyleClass(gui_styles.site)}};instance.setAxisElement=function(){var rect=obj.getBoundingClientRect();shared.element.style.left=rect.left+2;shared.element.style.top=rect.top+rect.height-10}}function Canvas(instance,shared,private){shared.element=document.createElement("canvas");instance.getContext=function(){return shared.element.getContext("2d")};instance.setWidth=function(w){shared.element.width=w};instance.setHeight=function(h){shared.element.height=h};instance.toDataUrl=function(img){return shared.element.toDataURL(img)}}
////////////////////////////////////////////////////////////////////////////////
function Graphic(instance,shared,private){shared.element=document.createElement("object");shared.element.type="image/svg+xml";instance.setImage=function(uri){shared.element.data=uri}}function SVGViewer(instance,shared,private){shared.element=document.createElement("object");shared.element.type="image/svg+xml";instance.load=function(uri,callback){shared.element.data=UI.resourcePath+uri;shared.element.onload=function(){callback(shared.element.contentDocument)}}}function HTMLViewer(instance,shared,private){shared.element=document.createElement("div");
//  shared.element.type = "text/html";
instance.loadResource=function(uri,callback){shared.element.data=UI.resourcePath+uri;shared.element.onload=function(){callback(shared.element.contentDocument)}};instance.loadUrl=function(uri,callback){var req=new XMLHttpRequest;req.open("GET",uri,true);req.onload=function(){try{shared.element.innerHTML=req.responseText}catch(err){console.error("AutoSIG: Error Requesting Data "+uri+": "+err);console.warn(req.responseText)}};req.send(null);
//shared.element.data = uri;
//shared.element.onload = function() { callback(shared.element.contentDocument); };
};instance.setHtml=function(data){shared.element.innerHTML=data}}var VIEWPORT_READY=false;function Viewport(instance,shared,private){shared.iframe=document.createElement("object");shared.iframe.style.width="100%";shared.iframe.style.height="100%";shared.iframe.style.position="absoulte";shared.iframe.style.top="0px";shared.iframe.style.left="0px";shared.element.appendChild(shared.iframe);
// shared.element.type = "image/svg+xml";
/*instance.load = function(uri, callback){
        shared.element.data = UI.resourcePath+uri;
        shared.element.onload = function() { callback(shared.element.contentDocument); };
    }  */instance.setType=function(s){shared.iframe.type=s};instance.setSource=function(src){shared.iframe.data=src;shared.iframe.onload=function(){if(VIEWPORT_READY==false){VIEWPORT_READY=true;shared.iframe.data=null;shared.iframe.data=src}}
// shared.iframe.location.reload(true);
};instance.getTarget=function(){return shared.iframe};instance.addParam=function(name,value){var param=document.createElement("param");param.name=name;param.value=value;shared.iframe.appendChild(param)};instance.setParams=function(ps){ps.forEach(function(p){instance.addParam(p.name,p.value)})}}function IFrame(instance,shared,private){shared.iframe=document.createElement("iframe");shared.iframe.frameBorder="0";shared.iframe.style.width="100%";shared.iframe.style.height="100%";shared.iframe.style.position="absoulte";shared.iframe.style.top="0px";shared.iframe.style.left="0px";shared.iframe.style.border="0px";shared.element.appendChild(shared.iframe);
// shared.element.type = "image/svg+xml";
/*instance.load = function(uri, callback){
        shared.element.data = UI.resourcePath+uri;
        shared.element.onload = function() { callback(shared.element.contentDocument); };
    }  */instance.getViewport=function(){return shared.iframe};instance.setType=function(s){shared.iframe.type=s};instance.setSource=function(src){shared.iframe.src=src;shared.iframe.onload=function(){if(VIEWPORT_READY==false){VIEWPORT_READY=true;shared.iframe.data=null;shared.iframe.data=src}}
// shared.iframe.location.reload(true);
};instance.getTarget=function(){return shared.iframe}}function Embedded(instance,shared,private){shared.iframe=document.createElement("embed");shared.iframe.style.width="100%";shared.iframe.style.height="100%";shared.iframe.style.position="absoulte";shared.iframe.style.top="0px";shared.iframe.style.left="0px";shared.element.appendChild(shared.iframe);
// shared.element.type = "image/svg+xml";
/*instance.load = function(uri, callback){
        shared.element.data = UI.resourcePath+uri;
        shared.element.onload = function() { callback(shared.element.contentDocument); };
    }  */instance.setSource=function(src){shared.iframe.data=src};instance.setType=function(type){shared.iframe.type=type};instance.getObject=function(){return shared.iframe}}
////////////////////////////////////////////////////////////////////////////////
function LinearGradientBrush(instance,shared,private){shared.from="#000000";shared.to="#ffffff";shared.direction="left";instance.horizontal=function(f,t){shared.from=f;shared.to=t;shared.direction="left"};instance.vertical=function(f,t){shared.from=f;shared.to=t;shared.direction="top"};instance.diagonal=function(f,t){shared.from=f;shared.to=t;shared.direction="left top"};instance.angled=function(a,f,t){shared.from=f;shared.to=t;shared.direction=a+"deg"};instance.getCSSBrush=function(){return"-webkit-linear-gradient("+shared.direction+","+shared.from+", "+shared.to+")"}}function RadialGradientBrush(instance,shared,private){shared.from="#000000";shared.to="#ffffff";instance.setFrom=function(f){shared.from=f};instance.setTo=function(t){shared.to=t};instance.getCSSBrush=function(){return"-webkit-radial-gradient("+shared.from+", "+shared.to+")"}}
////////////////////////////////////////////////////////////////////////////////
var clickOutListener=null;var gui_popup_h=[];var UI={version:UI_VERSION,resourcePath:"resources/",View:{implementation:function(instance,shared){View(instance,shared,{})}},Video:{implementation:function(instance,shared){Video(instance,shared,{});UI.View.implementation(instance,shared)}},Container:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Container(instance,shared,{})}},CustomScrollView:{implementation:function(instance,shared){UI.Container.implementation(instance,shared);CustomScrollView(instance,shared,{})}},DefaultScrollView:{implementation:function(instance,shared){UI.Container.implementation(instance,shared);DefaultScrollView(instance,shared,{})}},Image:{implementation:function(instance,shared){UI.View.implementation(instance,shared);ImageView(instance,shared,{})},characterize:function(instance,shared){ImageView(instance,shared,{})}},Paragraph:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Paragraph(instance,shared,{})}},Text:{implementation:function(instance,shared){UI.Paragraph.implementation(instance,shared);Text(instance,shared,{})}},Label:{implementation:function(instance,shared){UI.Text.implementation(instance,shared);Label(instance,shared,{})}},Input:{implementation:function(instance,shared,type){UI.View.implementation(instance,shared);Input(instance,shared,{},type)}},Checkbox:{implementation:function(instance,shared){UI.Input.implementation(instance,shared);Checkbox(instance,shared,{})}},TextInput:{implementation:function(instance,shared){UI.Text.implementation(instance,shared);UI.Input.implementation(instance,shared);TextInput(instance,shared,{})}},MultilineText:{implementation:function(instance,shared){UI.TextInput.implementation(instance,shared);MultilineText(instance,shared,{})}},PasswordInput:{implementation:function(instance,shared){UI.TextInput.implementation(instance,shared);PasswordInput(instance,shared,{})}},DateInput:{implementation:function(instance,shared){UI.Text.implementation(instance,shared);UI.Input.implementation(instance,shared);DateInput(instance,shared,{})}},ComboInput:{implementation:function(instance,shared){UI.Text.implementation(instance,shared);UI.Input.implementation(instance,shared,"select");ComboInput(instance,shared,{})}},Site:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Site(instance,shared,{})}},SVGView:{implementation:function(instance,shared){UI.View.implementation(instance,shared);SVGViewer(instance,shared)}},WebView:{implementation:function(instance,shared){UI.View.implementation(instance,shared);HTMLViewer(instance,shared)}},Viewport:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Viewport(instance,shared)}},IFrame:{implementation:function(instance,shared){UI.View.implementation(instance,shared);IFrame(instance,shared)}},Embedded:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Embedded(instance,shared)}},Hover:{implementation:function(instance,shared){UI.Container.implementation(instance,shared);Hover(instance,shared,{})}},Canvas:{implementation:function(instance,shared){UI.View.implementation(instance,shared);Canvas(instance,shared,{})}},
/////////////////////////////////
Brushes:{LinearGradient:{implementation:function(instance,shared){LinearGradientBrush(instance,shared,{})}},RadialGradient:{implementation:function(instance,shared){RadialGradientBrush(instance,shared,{})}}},cancelClickOutside:function(obj){var l=null;gui_popup_h.forEach(function(item){if(item.obj==obj)item.obj=null})},onClickOutside:function(obj,callback,ignoreFirst){var listener=gui_popup_h.pop();if(listener!=null){if(listener.obj==obj){gui_popup_h.push(listener);return}if(listener.callback!=null)listener.callback()}if(obj==null)return;listener={obj:obj,callback:callback,showing:false};gui_popup_h.push(listener);window.onmousedown=function(e){var rect;var tmp=[];var item=gui_popup_h.shift();while(item!=null){if(item.obj!=null){if(item.obj instanceof Array){var out=true;
//console.warn("Checando Array");
item.obj.forEach(function(obj){rect=obj.getDOMElement().getBoundingClientRect();if(rect!=null){if(e.clientX>=rect.left&&e.clientX<=rect.right&&e.clientY>=rect.top&&e.clientY<=rect.bottom)out=false}});if(out==true)item.callback(e);else tmp.push(item)}else{rect=item.obj.getDOMElement().getBoundingClientRect();if(!(e.clientX>=rect.left&&e.clientX<=rect.right&&e.clientY>=rect.top&&e.clientY<=rect.bottom)){item.callback(e)}else tmp.push(item)}item.showing=false}item=gui_popup_h.shift()}gui_popup_h=tmp}},initialize:function(){Display.initialize();Class.register("ui/view",UI.View);//THE MAIN ANCESTOR WITH THE MOST FUNCTIONS
Class.register("ui/container",UI.Container);// JUST FOR CONTAINERS AND GROUPS, have alignment Orientation
Class.register("ui/scrollView",UI.CustomScrollView);UI.ScrollView=UI.CustomScrollView;
//STATIC BASE COMPONENTS
Class.register("ui/text",UI.Text);Class.register("ui/image",UI.Image);Class.register("ui/video",UI.Video);Class.register("ui/paragraph",UI.Paragraph);Class.register("ui/label",UI.Label);Class.register("ui/hover",UI.Hover);Class.register("ui/canvas",UI.Canvas);
//INPUT CONTROLS
Class.register("ui/input",UI.Input);// ABSTRACT MAIN ANCESTOR
Class.register("ui/input/checkbox",UI.Checkbox);Class.register("ui/input/text",UI.TextInput);Class.register("ui/input/multilineText",UI.MultilineText);Class.register("ui/input/password",UI.PasswordInput);Class.register("ui/input/date",UI.DateInput);Class.register("ui/input/combo",UI.ComboInput);
//VIEWERS
Class.register("ui/svgView",UI.SVGView);Class.register("ui/webView",UI.WebView);Class.register("ui/viewport",UI.Viewport);Class.register("ui/iframe",UI.IFrame);Class.register("ui/embedded",UI.Embedded);
//POPUP - screen effects
Class.register("ui/site",UI.Site);//POPUP
//BRUSHES FOR PAINT BACKGROUNDS
Class.register("ui/brush/linearGradient",UI.Brushes.LinearGradient);Class.register("ui/brush/radialGradient",UI.Brushes.RadialGradient);
/////////////////////////////////////////
UI.Input.Text=UI.TextInput;UI.Input.MultilineText=UI.MultilineText;UI.Input.Password=UI.PasswordInput;UI.Input.Date=UI.DateInput;UI.Input.Check=UI.Checkbox;UI.Input.Combo=UI.ComboInput}};

